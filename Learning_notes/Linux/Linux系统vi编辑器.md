# Linux系统vi编辑器
### `vi`编辑器的主要作用包括：

1. **文本编辑**：编辑配置文件、脚本等文本数据。
2. **兼容性**：几乎所有Linux系统都预装，适合在命令行环境中使用。
3. **资源节省**：在低资源或无GUI环境下运行。

### 以下这些情况下，`VS Code`无法使用，只能使用`vi`编辑器。：

1. **无图形界面**：在没有图形界面的服务器（如SSH连接）上。
2. **低资源环境**：资源受限的系统，`vi`启动迅速且占用少。
3. **快速编辑**：快速查看和编辑文件，避免大型IDE的开销。

### 进入`vi`编辑器，可以按照以下步骤操作：

1. **打开终端**：在Linux或Unix系统中打开一个终端窗口。

2. **使用命令**：

   - 要创建或编辑一个文件，输入以下命令（将`filename`替换为你要编辑的文件名）：

     ```bash
     vi filename
     ```

3. **进入`vi`界面**：执行上述命令后，`vi`就会打开指定的文件（如果文件不存在，将创建一个新文件）。

### 退出`vi`

- 如果想要退出`vi`，可以按下`Esc`键，然后输入以下命令：

  - 保存并退出

    ```bash
    :wq
    ```

  - 强制退出（不保存更改）

    ```bash
    :q!
    ```
#### 注意：直接在终端输入`vi`可以进入`vi`的信息面板

### `vi`编辑器有三种常用模式：**命令模式**、**插入模式**和**尾行模式**（也称为**最后一行模式**）。

#### 1. 命令模式

**作用**：

- 默认进入的模式，用于执行各种命令，如移动光标、删除文本、复制粘贴等。

**切换方式**：

- 打开`vi`时自动进入命令模式。
- 按`Esc`键可以确保你处于命令模式。

#### 2. 插入模式

**作用**：

- 允许用户输入文本和内容，类似于大多数文本编辑器中的编辑功能。

**切换方式**：

- 在命令模式下按以下任意键可以进入插入模式：
  - `i`：在光标前插入。
  - `I`：在行首插入。
  - `a`：在光标后追加。
  - `A`：在行尾追加。
  - `o`：在当前行下插入新行。
  - `O`：在当前行上插入新行。

#### 3. 尾行模式

**作用**：

- 用于执行特定的命令，如保存、退出、搜索和替换等。

**切换方式**：

- 在命令模式下输入

  ```
  :
  ```

  （冒号）进入尾行模式。之后可以输入命令：

  - `:w`：保存文件。
  - `:q`：退出。
  - `:wq`：保存并退出。
  - `:q!`：强制退出，不保存更改。

#### 模式切换概述

- **命令模式** → **插入模式**：按`i`、`I`、`a`、`A`、`o`或`O`。
- **插入模式** → **命令模式**：按`Esc`键。
- **命令模式** → **尾行模式**：按`:`（冒号）。
- **尾行模式** → **命令模式**：按`Enter`键（执行命令后自动返回命令模式）。

## `vi`编辑器的一些常用操作，包括光标移动、文本选中、复制、粘贴、删除、翻页、跳转、查找、替换和撤销等操作。

### 1. 光标移动

- **单字符移动**：

  `h`：左移一个字符                  `l`：右移一个字符

  `j`：下移一行                          `k`：上移一行

- **行首和行尾移动**：

  `^`：跳到行首                          `$`：跳到行尾

- **单词移动**：

  - `w`：跳到下一个单词的开头
  - `b`：跳到上一个单词的开头

### 2. 文本操作

- **复制（Yank）**：
  - `yy`：复制当前行
  - `Nyy`：复制`N`行
- **粘贴**：
  - `p`：在光标后粘贴（小写）
  - `P`：在光标前粘贴（大写）
  - `Np`：粘贴`N`行
- **删除**：
  - `dd`：删除当前行
  - `Ndd`：删除`N`行
  - `x`：删除当前光标所在字符

### 3. 翻页操作

- **向下翻页**：
  - `Ctrl + d`：向下翻半页
  - `Ctrl + f`：向下翻一整页
- **向上翻页**：
  - `Ctrl + u`：向上翻半页
  - `Ctrl + b`：向上翻一整页

### 4. 跳转到特定行

- 在命令模式下输入：

  ```bash
  :N
  ```

  其中 

  ```
  N
  ```

   为目标行号，例如 

  ```
  :25
  ```

   跳转至第25行。

  或者按如下操作：

  - `G`：跳转到文件的最后一行
  - `NG`：跳转到文件的第N行
  - `gg`：跳转到文件的第一行

### 5. 查找内容

- **查找**：

  - `/keyword`：向下查找`keyword`
  - `?keyword`：向上查找`keyword`

- **继续查找**：

  - `n`：查找下一个匹配项
  - `N`：查找上一个匹配项

- **忽略大小写查找**：

  - 在查找模式(属于命令模式下的一项功能)下，输入：

    ```bash
    :set ignorecase # 或者输入:set ic
    ```

  - 此外，也可以使用`/keyword\c`、`?keyword\c`来查找（大小写会被忽略）。

### 6. 替换内容

- 在命令模式下输入：

  ```bash
  :%s/old/new/g
  ```

  - `old`为要替换的内容，`new`为新内容。此命令会替换**文件中所有**的`old`为`new`。`g`是全局替换的标志，这意味着在每一行中替换所有出现的`old`，而不仅仅是第一个。

   ```bash
   :s/old/new/
   ```
  
  - 上述表示替换当前行第一次出现的`old`
  

### 7. 撤销操作

- **撤销**：
  - `u`：撤销上一个操作
  - `U`：撤销当前行的所有更改
- **恢复操作**：
  - `Ctrl + r`：恢复上一步的撤销操作

