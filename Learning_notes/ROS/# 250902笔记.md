# 250902笔记

- LInux系统配置教程：https://www.bilibili.com/video/BV12K4y1F785?t=31.5
  在配置过程中可能会遇到***UEFI启动***问题

- 区分执行脚本路径与脚本所在路径的的区别

#### Linux系统中的权限问题：
- 当创建新文件或者目录时，以及要对文件或者目录进行有关操作时，需要对其权限进行匹配；常用操作：

  #### A. **不加 `sudo` 的情况**

  - 当你作为普通用户执行命令时，比如更改您拥有的文件或目录的权限，您可以直接使`chmod`命令。例如：

    ``` bash
    chmod 644 myfile.txt
    ```

    这里，如果您是`myfile.txt`文件的所有者，则该命令会成功执行，无需`sudo`。

  #### B. **加上 `sudo` 的情况**

  - 当您需要更改某些文件或目录的权限，但这些文件或目录的所有者并不是您自己，或者您需要更改系统级目录（如`/usr/bin`或`/etc`）的权限时，就需要使用`sudo`：

    ```bash
    sudo chmod 755 /usr/bin/my_executable
    ```

    这条命令将使用超级用户权限更改`/usr/bin/my_executable`文件的权限。
    
  - 依赖：
    静态依赖：如果不安装，编译时会报错，机器人操作系统（ROS）中在Catkin工作空间编译使用如下命令：

    ```bash
    cd ~/catkin_ws
    catkin_make
    ```

   这里 `~/catkin_ws` 是您 Catkin 工作空间的目录，运行该命令将会：编译工作空间中的所有 ROS 包；创建一个 `devel` 目录，其中包含编译后的文件；整个编译过程使用 `CMake` 来管理构建。
  
  动态依赖：如果不安装，运行时会报错，一般通过命令行打开报错。

  `touch``echo``sudo``chmod`的常用操作指令

#### 环境变量
- 单值修改或添加：

通过`export`命令：

 ```bash 
 export MY_VAR="Hello, World!"
 ```

可以通过如下命令来进行检查：

```bash
echo $MY_VAR
```

会输出：

```bash
Hello, World!
```

- 多值环境变量的修改：

```bash
export PATH="$PATH:/new/directory"
```

检查：

```bash
echo $PATH
```

#### Linux系统的包管理系统

##### apt
- `apt`可以自动处理软件包之间的依赖关系；常用于软件包交互的命令包括：
  `apt-get`：用于处理软件包的安装，升级与删除；
  `apt-cache`：用于查询软件包的信息；
  `apt`：综合上述两个功能。
- 常用命令：

  ```bash
  sudo apt update #更新软件列表，在安装或更新软件之前，首先需要更新软件源的列表。确保您的系统上的软件源信息是最新的。
  ```

  ```bash
  sudo apt instrall package #安装软件包package
  ```

  ```bash
  sudo apt upgrade #升级软件包
  sudo apt full-upgrade #升级所有软件包
  ```

  ```bash
  sudo apt remove package #删除软件包，但会保留配置文件
  sudo apt purge package #删除软件包，同时保留配置文件
  ```

  ```bash
  sudo apt autoremove #清理系统中不再需要的包（被标记为自动安装但不再需要）
  ```

  ```bash
  apt show package #查询软件包的信息，例如是否已安装、版本
  ```

  ```bash 
  apt search package #搜索软件包package是否可用
  ```

  软件源信息存储在 `/etc/apt/sources.list` 文件中。您可以使用文本编辑器（如 `nano` 或 `vi`）打开此文件进行编辑：

  ```bash
  sudo nano /etc/apt/sources.list
  ```

  在此文件中可以添加、移除或修改软件源地址。

##### ppa包管理

- `ppa`是在标准 Ubuntu 软件源之外提供额外的软件包，使用户可以获取最新的软件版本或开发版本。其可以访问最新的版本软件，通常比进入官方软件源要快

添加新的`ppa`，使用`add-apt-repository`命令：

```bash
sudo add-apt-repository ppa:repository_name
sudo apt update #在添加 PPA 后，需要更新软件源列表，以便系统可以识别新添加的软件包
sudo apt install package_name #在更新软件源后，可以使用 apt 安装 PPA 中的软件包。
```

列出已添加的`ppa`

```bash
ls /etc/apt/sources.list.d/
```

删除`ppa`：

```bash
sudo add-apt-repository --remove ppa:deadsnakes/ppa #deadsnakes是这个PPA的用户名，而ppa是PPA 名称
```

##### cmake全局安装

  一个跨平台的开源构建系统，用于管理软件的构建过程。作为一种高级构建工具，CMake 提供了一种简化的方式来处理项目的编译、链接和安装。

- 工作流程：

1. 首先创建.txt文件

```bash
cmake_minimum_required(VERSION 3.10) # 指定 CMake 最小版本
project(MyProject)                   # 项目名称

set(SOURCES                          # 源文件列表
    main.cpp
    other.cpp
)

add_executable(MyExecutable ${SOURCES})  # 创建可执行文件
```

2. 运行Cmake

```bash
mkdir build #通常是在项目根目录下创建
cd build
cmake .. #这里的 `..` 指的是 `CMakeLists.txt` 的路径，CMake 会读取这个文件并生成相应的构建文件。
```

3. 编译，运行（不同语言编译命令不同）如使用 Makefile 进行构建：

```bash
make
```

- 常用命令：

```bash
cmake --version #查看cmake版本
cmake path_to_source #生成构建文件
make clean #清理构建
make target_name #构建特定目标
```

- 常见问题：cmake依赖还有cmake依赖；拉取的版本代码还需要修改，否则编译失败；拉取版本错误导致文件不存在（例如：opencv2与opencv）

##### rosdep不好用，别用

#### VScode

设置同步，配置文件切换的操作

