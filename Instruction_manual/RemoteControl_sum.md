# 机械臂数采方案

> 所有方案主要针对松灵piper机械臂而言。文末只针对franka机械臂做讨论。
>
> ​														  V0.1 万鹏编辑于2025年9月6日

## 方案一：同构机械臂遥操作方案

### 针对piper主从示教而言

参考视频：见实拍

**优点：**

* 一对一控制，现在针对单臂任务可以已经完全可以满足。
* 时延很低，精度较高，应该可以满足科研需求
* 松灵的主臂示教方案非常好实现，官方已经封装好了库。

**缺点：**

* 如果想做双臂协同数采则需要再额外买两台松灵。如果需要移动的话需要定制工作台

* 有视差问题，需要自己解决：

>  为了解决视差问题，建议采用双视角（固定人眼视角和腕眼视角）辅助进行数采。这个是目前想到最好的方法。

## 方案二：开放环境采集方案

### 针对PIKA而言

参考链接：

[单臂控制视频](https://cloud.tencent.com/developer/video/82094)

[官方文章](https://zhuanlan.zhihu.com/p/18179585450)

由采集装置、模型推理执行器、定位基站和数据背包组成。

**优点：**

* 支持离线收集数据，能在无机械臂参与的状态下用人工自主收集数据，部署很快

* **或许能够支持别的机械臂应用数据**，但是没有找到相关资料，无法确保效果

**缺点：**

**最大缺点就是优点意义不大**

* 缺点定位误差为1.5mm，明显不如主臂示教方案精度高。方案二能做的事情方案一大多能满足，并且不如方案一精度、效率高。如果遇到**精度要求高**or背景封闭**定位基站采数干扰**等场景就会失效

* **硬件一定比软件可靠，因而不如方案一**

> 此外我还观察了franka的遥操作方案，模拟控制器仍然是采用硬件方案。
>
> 参考视频：[franka遥操作](https://www.bilibili.com/video/BV1MPW2ecE4g/?spm_id_from=333.337.search-card.all.click)

### 针对VR眼镜而言

参考链接

[官方针对meta questVR套件的代码仓库](https://github.com/agilexrobotics/questVR_ws)

分为两块

**针对机械臂法兰末端**

捕捉手部的6D位姿信息，然后直接映射为机械臂末端笛卡尔位姿

**针对灵巧手**

捕捉手部多个关节的角度，然后需要人为处理成灵巧手的解算（难度略大，跟灵巧手机械结构相关，很难做精确映射，感觉不像是最好的方案）

### 针对动捕手套而言

类似VR眼镜，但是对灵巧手控制更加友好，对机械臂法兰不友好。

**对法兰不友好的原因：**

内置IMU能通过记录线(角)速度和加速度来计算中心位置映射到机械臂末端，但是这个过程必不可免存在误差（没有绝对三维世界坐标）

### 针对3D鼠标而言

不能控制灵巧手，对法兰控制和动捕手套相类似

## 方案三：底盘+同构机械臂遥操作方案

### 针对松灵的Cobot Magic而言

**其实是模拟斯坦福ALOHA架构**

参考链接:

[松灵Cobot Magic](https://zhuanlan.zhihu.com/p/685964965)

[松灵CSDN](https://blog.csdn.net/m0_55202222/article/details/147375373)

**优点：**

* 集成了松灵无人车底盘，能实现目前比较先进的移动底盘+双臂的具身平台

**缺点：**

* 模仿ALOHA架构，叠加了松灵自己的可建模与自主导航的底盘。核心的数采思路与方案一完全一致，**完全有可替代方案，性价比低**
* **硬件缺少拓展性**，如果物品比较低或者比较高，没法升降（模拟人类下蹲或者抬胳膊），可工作范围限制很大（不能忽视松灵工作空间比较小的这个局限性）

# 总结

总结来说，我认为目前最好的数采方案是：

* 如果针对单臂任务，可采用**方案1**与2中的**VR**、**3D鼠标**这三个方案（强推aloha架构）

* 如果针对固定位置的双臂协同任务，建议额外买两个松灵机械臂，采用方案1（同推aloha架构）

* 如果针对可移动场景的双臂协同任务，建议额外购买两个松灵机械臂，请厂家定制一个可移动可升降的小桌子，模仿ALOHA自己搭建一个实验平台

等后面各个模块开发好了之后，可以考虑用已经开发好的松灵车上搭建一个自定义的升降平台，上面放置单臂或者双臂。

# 对franka的讨论

## 目前遥操作的限制

在franka机械臂内部，官方没有做轨迹平滑处理，因而无法实现平滑控制；两周前我已经实现了在franka_ros2里面写好了轨迹平滑处理算法，应该能实现平滑控制。

但当时因为与机械臂通讯时延偶发突增（没找出原因），因而没有大量验证。而实现任何高频、平滑的遥操作前提都是做好平滑算法，建议想开发franka遥操作的话，做franka机械臂的学长们就得去研究一下控制算法。

## 针对franka的遥操作方法讨论

* 针对单臂控制可以使用方案一和方案二

* 针对双臂控制只能使用方案二

* franka无法做移动底盘，因为太大了。

  综上，我认为franka除了工作空间大、安全性高、末端姿态高度稳定以外，相对于piper而言，没有过多的优势

# 参考文献

理想型机器人参考论文：https://ok-robot.github.io

数采方案横向对比：[具身操作的数采方案概览 - 知乎](https://zhuanlan.zhihu.com/p/14109860960)

![img](https://pic1.zhimg.com/v2-06ee0943d98065f49d0b4244e05ff360_1440w.jpg)

